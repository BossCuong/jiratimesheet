<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="timesheet_line_tree" model="ir.ui.view">
        <field name="name">Timesheet Line Tree View</field>
        <field name="model">account.analytic.line</field>
        <field name="arch" type="xml">
            <tree editable="top" string="Timesheet Activities" import="false">
                <field name="date"/>
                <field name="name"/>
                <field name="project_id" required="1"/>
                <field name="task_id" context="{'default_project_id': project_id}" domain="[('project_id', '=', project_id)]"/>
                <field name="unit_amount" widget="timesheet_uom" sum="Total"/>
            </tree>
        </field>
    </record>

    <record id="timesheet_line_grid" model="ir.ui.view">
        <field name="name">Timesheet Line Grid View</field>
        <field name="model">account.analytic.line</field>
        <field name="arch" type="xml">
            <grid string="Timesheets" adjustment="object" adjust_name="adjust_grid" create="true" edit="true">
                <field name="project_id" type="row" section="1" on_change="1" can_create="true" can_write="true" modifiers="{}"/>
                <field name="task_id" type="row" on_change="1" can_create="true" can_write="true" modifiers="{}"/>
                <field name="date" type="col" modifiers="{'required': true}">
                    <range name="week" string="Week" span="week" step="day"/>
                    <range name="month" string="Month" span="month" step="day"/>
                </field>
                <field name="unit_amount" type="measure" widget="timesheet_uom" string="Hour(s)" modifiers="{}"/>
            </grid>
        </field>
    </record>
</odoo>
        <!-- Views definition -->
<!--        <record id="timesheet_view_tree_colored" model="ir.ui.view">-->
<!--            <field name="name">account.analytic.line.tree.hr_timesheet</field>-->
<!--            <field name="model">account.analytic.line</field>-->
<!--            <field name="inherit_id" ref="hr_timesheet.hr_timesheet_line_tree"/>-->
<!--            <field name="arch" type="xml">-->
<!--                <xpath expr="/tree" position="attributes">-->
<!--                    <attribute name="decoration-muted">validated</attribute>-->
<!--                </xpath>-->
<!--                <xpath expr="/tree" position="inside">-->
<!--                    <field name="validated" invisible="1"/>-->
<!--                </xpath>-->
<!--            </field>-->
<!--        </record>-->

        <!-- Line edition and creation from grid -->
<!--        <record id="timesheet_view_form" model="ir.ui.vie">-->
<!--            <field name="name">account.analytic.line.form</field>-->
<!--            <field name="model">account.analytic.line</field>-->
<!--            <field name="priority">4567</field>-->
<!--            <field name="arch" type="xml">-->
<!--                <form string="Add a Task">-->
<!--                    <sheet>-->
<!--                        <group>-->
<!--                            <group>-->
<!--                                <field name="project_id" required="1" class="o_timesheet_tour_project_name"/>-->
<!--                                <field name="task_id" context="{'default_project_id': project_id}" class="o_timesheet_tour_task_name"/>-->
<!--                                <field name="user_id" invisible="1" groups="hr_timesheet.group_timesheet_manager"/>-->
<!--                                <field name="employee_id" groups="hr_timesheet.group_timesheet_manager"/>-->
<!--                            </group>-->
<!--                            <group invisible="context.get('view_grid_add_line')">-->
<!--                                <field name="date"/>-->
<!--                                <field name="unit_amount" string="Time Spent" widget="timesheet_uom"/>-->
<!--                            </group>-->
<!--                        </group>-->
<!--                    </sheet>-->
<!--                </form>-->
<!--            </field>-->
<!--        </record>-->


<!--        <record id="timesheet_view_grid_by_project_readonly" model="ir.ui.view">-->
<!--            <field name="name">account.analytic.line.grid.project.readonly</field>-->
<!--            <field name="model">account.analytic.line</field>-->
<!--            <field name="inherit_id" ref="timesheet_view_grid_by_project"/>-->
<!--            <field name="mode">primary</field>-->
<!--            <field name="arch" type="xml">-->
<!--                <xpath expr="/grid" position="attributes">-->
<!--                    <attribute name="create">false</attribute>-->
<!--                    <attribute name="edit">false</attribute>-->
<!--                </xpath>-->
<!--                &lt;!&ndash; group view by employee (only) instead of (project, task) &ndash;&gt;-->
<!--                <xpath expr="//field[@name='task_id']" position="attributes">-->
<!--                    <attribute name="name">employee_id</attribute>-->
<!--                </xpath>-->
<!--            </field>-->
<!--        </record>-->

<!--        <record id="timesheet_view_grid_by_employee" model="ir.ui.view">-->
<!--            <field name="name">account.analytic.line.grid.employee</field>-->
<!--            <field name="model">account.analytic.line</field>-->
<!--            <field name="inherit_id" eval="False"/>-->
<!--            <field name="arch" type="xml">-->
<!--                <grid string="Timesheets" adjustment="object" adjust_name="adjust_grid">-->
<!--                    <field name="employee_id" type="row"/>-->
<!--                    <field name="project_id" type="row"/>-->
<!--                    <field name="date" type="col">-->
<!--                        <range name="week" string="Week" span="week" step="day"/>-->
<!--                        <range name="month" string="Month" span="month" step="day"/>-->
<!--                    </field>-->
<!--                    <field name="unit_amount" type="measure" widget="timesheet_uom"/>-->
<!--                </grid>-->
<!--            </field>-->
<!--        </record>-->
<!--        <record id="timesheet_view_grid_by_employee_readonly" model="ir.ui.view">-->
<!--            <field name="name">account.analytic.line.grid.employee.readonly</field>-->
<!--            <field name="model">account.analytic.line</field>-->
<!--            <field name="inherit_id" ref="timesheet_grid.timesheet_view_grid_by_employee"/>-->
<!--            <field name="mode">primary</field>-->
<!--            <field name="priority">10</field>-->
<!--            <field name="arch" type="xml">-->
<!--                <xpath expr="//field[@name='employee_id']" position="attributes">-->
<!--                    <attribute name="section">1</attribute>-->
<!--                </xpath>-->
<!--                <xpath expr="/grid" position="attributes">-->
<!--                    <attribute name="create">false</attribute>-->
<!--                    <attribute name="edit">false</attribute>-->
<!--                </xpath>-->
<!--            </field>-->
<!--        </record>-->
<!--        <record id="timesheet_view_grid_by_employee_editable_manager" model="ir.ui.view">-->
<!--            <field name="name">account.analytic.line.grid.employee.manager</field>-->
<!--            <field name="model">account.analytic.line</field>-->
<!--            <field name="inherit_id" ref="timesheet_grid.timesheet_view_grid_by_employee_readonly"/>-->
<!--            <field name="priority">15</field>-->
<!--            <field name="arch" type="xml">-->
<!--                <xpath expr="/grid" position="attributes">-->
<!--                    <attribute name="create">true</attribute>-->
<!--                    <attribute name="edit">true</attribute>-->
<!--                </xpath>-->
<!--            </field>-->
<!--            <field name="groups_id" eval="[(4, ref('hr_timesheet.group_timesheet_manager'))]"/>-->
<!--        </record>-->
<!--        <record id="timesheet_view_grid_by_employee_validation" model="ir.ui.view">-->
<!--            <field name="name">account.analytic.line.grid.employee.validation</field>-->
<!--            <field name="model">account.analytic.line</field>-->
<!--            <field name="inherit_id" ref="timesheet_grid.timesheet_view_grid_by_employee"/>-->
<!--            <field name="mode">primary</field>-->
<!--            <field name="priority">10</field>-->
<!--            <field name="arch" type="xml">-->
<!--                <xpath expr="//field[@name='unit_amount']" position="before">-->
<!--                    <button type="object" class="btn-primary" name="action_validate_timesheet" string="Validate"/>-->
<!--                </xpath>-->
<!--                <xpath expr="/grid" position="attributes">-->
<!--                    <attribute name="create">false</attribute>-->
<!--                </xpath>-->
<!--            </field>-->
<!--        </record>-->

<!--        <record id="timesheet_view_grid_by_task_readonly" model="ir.ui.view">-->
<!--            <field name="name">account.analytic.line.grid.task</field>-->
<!--            <field name="model">account.analytic.line</field>-->
<!--            <field name="inherit_id" eval="False"/>-->
<!--            <field name="arch" type="xml">-->
<!--                <grid string="Timesheets" create="false" edit="false">-->
<!--                    <field name="task_id" type="row" section="1"/>-->
<!--                    <field name="employee_id" type="row"/>-->
<!--                    <field name="date" type="col">-->
<!--                        <range name="week" string="Week" span="week" step="day"/>-->
<!--                        <range name="month" string="Month" span="month" step="day"/>-->
<!--                    </field>-->
<!--                    <field name="unit_amount" type="measure" widget="timesheet_uom"/>-->
<!--                </grid>-->
<!--            </field>-->
<!--        </record>-->


<!--        <record id="timesheet_view_search" model="ir.ui.view">-->
<!--            <field name="name">account.analytic.search</field>-->
<!--            <field name="model">account.analytic.line</field>-->
<!--            <field name="inherit_id" ref="hr_timesheet.hr_timesheet_line_search"/>-->
<!--            <field name="mode">primary</field>-->
<!--            <field name="arch" type="xml">-->
<!--                <xpath expr="/search" position="inside">-->
<!--                    <separator/>-->
<!--                    <filter name="validated" string="Validated" domain="[('validated', '=', True)]"/>-->
<!--                    <filter name="nonvalidated" string="Non Validated" domain="[('validated', '=', False)]"/>-->
<!--                </xpath>-->
<!--                <xpath expr="//filter[@name='mine']" position="after">-->
<!--                    <filter name="my_team_timesheet" string="My Team" domain="[('employee_id.timesheet_manager_id', '=', uid)]"/>-->
<!--                </xpath>-->
<!--            </field>-->
<!--        </record>-->